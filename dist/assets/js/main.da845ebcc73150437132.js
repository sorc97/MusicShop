!function(e){function t(t){for(var r,c,i=t[0],u=t[1],s=t[2],p=0,f=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/music-shop/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;o.push([86,1]),n()}(Array(39).concat([function(e,t,n){var r=n(40);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},,,,function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(47);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(49);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(51);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(53);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(55);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(57);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(59);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(61);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(63);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(65);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(69);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(71);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(73);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(75);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(77);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(79);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(81);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(83);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n(1),i=n.n(c),u=n(2),s=n(7),l=n(24),p=n.n(l);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=Object(s.compose)((function(e){return e[0]}),(function(e,t){return e.filter((function(e){return e._id===t}))})),d={name:"BY_NAME",highPrice:"BY_HIGH_PRICE",lowPrice:"BY_LOW_PRICE"},g=function(e){switch(e){case"BY_NAME":return t="name",function(e,n){return e[t].toLowerCase()>n[t].toLowerCase()?1:-1};case"BY_HIGH_PRICE":return function(e){return function(t,n){return n[e]-t[e]}}("price");case"BY_LOW_PRICE":return function(e){return function(t,n){return t[e]-n[e]}}("price");default:return}var t},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return t[e]},v=function(e){return new URLSearchParams(e)},h=function(e){return"?".concat(e.toString())},b=function(e,t,n){return Object(s.compose)(h,function(e,t){return function(n){return n.get(e)?n.set(e,t):n.append(e,t),n}}(e,t),v)(n)},E=function(e,t){return Object(s.compose)(h,function(e){return function(t){return t.delete(e),t}}(e),v)(t)},O=function(e){return p()().transform(e,"-").toLowerCase()},P=function(e){var t=e.categories,n=void 0===t?[]:t;return a.a.createElement("ul",{className:"categories-list"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"categories-item"},a.a.createElement(u.c,{className:"categories-link",to:"/category/".concat(O(e))},e))})))};P.propTypes={categories:i.a.array.isRequired};var w=P,j=(n(39),function(e){var t=e.categoriesList,n=void 0===t?[]:t;return a.a.createElement("aside",{className:"categories"},a.a.createElement(w,{categories:n}))});j.propTypes={categoriesItems:i.a.array};var N=j,S=n(13),_=n.n(S),C=n(17),k=n.n(C),A=(n(44),function(e){var t=e.query,n=void 0===t?"":t,r=e.item,o=void 0===r?{}:r,c=Object.keys(o)[0],i=Object.values(o)[0],s=k.a.parse(n).sort,l=_()("sort-item-link",i===s&&"active");return a.a.createElement("li",{className:"sort-item"},a.a.createElement(u.b,{className:l,to:b("sort",i,n)},c))});A.propTypes={query:i.a.string,item:i.a.object};var T=A,x=n(12),M=(n(46),function(e){var t=e.sortList,n=void 0===t?[]:t,r=e.location,o=(void 0===r?{}:r).search;return a.a.createElement("div",{className:"sort"},a.a.createElement("ul",{className:"sort-list"},n.map((function(e,t){return a.a.createElement(T,{key:t,item:e,query:o})}))),o.includes("sort")&&a.a.createElement("span",null,a.a.createElement(u.b,{className:"sort-remove",to:E("sort",o)},"×")))});M.propTypes={sortList:i.a.array,location:i.a.object};var D=Object(x.g)(M),L=n(5),B="REQUEST_PRODUCTS",H="RECEIVE_PRODUCTS",R="ADD_TO_CART",I="REMOVE_FROM_CART",U="CHANGE_AMOUNT",F="TOGGLE_SIDE_MENU",z=function(e,t){return function(n){n({type:B}),fetch(e).then((function(e){return e.json()}),(function(e){return console.error("An error occurred ",e)})).then((function(e){return n(function(e,t){return{type:H,products:e,fetchedBy:t}}(e,t))}))}},q=function(e){return{type:R,id:e}},Y=function(e){return{type:I,id:e}},G=function(){return{type:F}},V=function(e){var t=e.condition,n=e.style,r=e.positiveText,o=e.negativeText,c=e.className,i=e.onPositiveClick,u=e.onNegativeClick,s=_()(c,t&&"remove");return t?a.a.createElement("button",{className:s,style:n,onClick:u},o):a.a.createElement("button",{className:s,style:n,onClick:i},r)};V.propTypes={condition:i.a.bool,style:i.a.object,positiveText:i.a.string,negativeText:i.a.string,className:i.a.string,onPositiveClick:i.a.func,onNegativeClick:i.a.func},V.defaultProps={condition:!1,style:{},positiveText:"Add",negativeText:"Remove",className:"",onPositiveClick:function(){},onNegativeClick:function(){}};var J=V,W=(n(48),Object(L.b)((function(e,t){var n=e.products.cart,r=t.id,a=t.style,o=t.className;return{condition:!!m(n,r),positiveText:"Добавить в корзину",negativeText:"Убрать из корзины",style:a,className:o}}),(function(e,t){var n=t.id;return{onPositiveClick:function(){e(q(n))},onNegativeClick:function(){e(Y(n))}}}))(J)),Q={margin:0,fontWeight:"normal"},K=function(e){var t,n=e.className,r=void 0===n?"":n,o=e.category,c=void 0===o?"":o;return a.a.createElement("h3",{style:Q},a.a.createElement(u.b,{className:r,to:"/category/".concat(O(c))},(t=c).charAt(0).toUpperCase()+t.slice(1)))};K.propTypes={className:i.a.string,category:i.a.string};var X=K;n(50);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re={position:"absolute",bottom:"0",left:"0",width:"100%"},ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){if(e.name===this.props.name)return!1}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.category,r=e.img,o=e.price,c=e._id;return a.a.createElement("li",{className:"product"},a.a.createElement(u.b,{className:"img-link",to:"/product/".concat(c)},a.a.createElement("img",{src:r,alt:"product img"})),a.a.createElement("div",{className:"product-caption"},a.a.createElement(X,{className:"product-category",category:n}),a.a.createElement("h2",{className:"product-name"},a.a.createElement(u.b,{to:"/product/".concat(c)},t))),a.a.createElement("h4",{className:"product-price"},o," р."),a.a.createElement(W,{style:re,id:c,className:"product-button"}))}}])&&$(n.prototype,r),o&&$(n,o),t}(r.Component);ae.propTypes={name:i.a.string,category:i.a.string,img:i.a.string,price:i.a.string,_id:i.a.string},ae.defaultProps={name:"Unknown",category:"Unknown",img:"",price:"0",_id:"0"};var oe=ae;n(52);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=function(e){var t=e.products,n=void 0===t?[]:t;return n.length>0&&a.a.createElement("div",{className:"products-list-wrapper"},a.a.createElement("ul",{className:"products-list"},n.map((function(e){return a.a.createElement(oe,ce({key:e._id},e,{price:e.price.toLocaleString()}))}))))};ie.propTypes={products:i.a.array};var ue=ie,se=(n(54),function(e){var t=e.category,n=void 0===t?"":t,r=e.categoryName,o=void 0===r?"":r,c=e.search,i=void 0===c?"":c,s="Все товары";return n?s=o||"Категория не найдена":i&&(s="Поиск"),a.a.createElement("div",{className:"products-caption"},a.a.createElement("h1",{className:"products-mainCategory"},s),(n||i)&&a.a.createElement("span",null,a.a.createElement(u.b,{to:"/",className:"products-goBack"},a.a.createElement("svg",{className:"goBack-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},a.a.createElement("path",{d:"M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z"})))))});se.propTypes={category:i.a.string,search:i.a.string,categoryName:i.a.string};var le=se;n(56);function pe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fe=function(e){var t=e.allElements,n=e.elemPerPage,r=e.location,o=e.currentPage,c=Math.ceil(t.length/n),i=r.search,s=pe(Array(c)).map((function(e,t){return t+1}));return o<=c&&a.a.createElement("ul",{className:"pagination-list"},s.map((function(e){var t=_()({"pagination-link":!0,active:o===e});return a.a.createElement("li",{key:e},a.a.createElement(u.b,{to:1===e?E("page",i):b("page",e,i),className:t},e))})))};fe.propTypes={allElements:i.a.array,elemPerPage:i.a.number,location:i.a.object,currentPage:i.a.number},fe.defaultProps={allElements:[],elemPerPage:10,location:{},currentPage:1};var me=Object(x.g)(fe);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=[{"По возрастанию цены":"lowPrice"},{"По убыванию цены":"highPrice"},{"По имени":"name"}],ve=["Электрогитары","Акустические гитары","Бас гитары","Клавишные","Ударные","Микрофоны","Звуковое оборудование","Dj-оборудование"],he={};ve.forEach((function(e){he=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(n,!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},he,ge({},O(e),e))}));var be,Ee=localStorage["musicShop-cart"]?JSON.parse(localStorage["musicShop-cart"]):[];n(58);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),je(this,Ne(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isMainDataFetched,n=e.params,r=e.fetchedBy,a=e.categoryName,o=e.fetchData,c=e.fetchByParam,i=Object.keys(n)[0];i&&"param"===r||t||(!i||t?o():c(i,"category"===i?a:n[i]))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.pathname,r=t.isMainDataFetched;e.pathname===n||r||this.fetchAllProducts()}},{key:"fetchAllProducts",value:function(){(0,this.props.fetchData)()}},{key:"render",value:function(){var e=this.props,t=e.products,n=e.category,r=e.categoryName,o=e.search,c=e.isFetching,i=e.sortedProducts,u=e.currentPage;return a.a.createElement("div",{className:"products-wrapper"},a.a.createElement(le,{category:n,categoryName:r,search:o}),c&&0===t.length&&a.a.createElement("h2",null,"Loading..."),!c&&0===t.length&&a.a.createElement("h2",{className:"empty"},"Нет товаров"),a.a.createElement(ue,{products:t}),a.a.createElement(me,{allElements:i,currentPage:u,elemPerPage:9}))}}])&&we(n.prototype,r),o&&we(n,o),t}(r.Component);_e.propTypes=(Oe(be={products:i.a.array,sortedProducts:i.a.array,category:i.a.string,categoryName:i.a.string},"category",i.a.string),Oe(be,"search",i.a.string),Oe(be,"pathname",i.a.string),Oe(be,"params",i.a.object),Oe(be,"currentPage",i.a.number),Oe(be,"isFetching",i.a.bool),Oe(be,"isMainDataFetched",i.a.bool),Oe(be,"fetchedBy",i.a.string),be),_e.defaultProps={products:[],sortedProducts:[],category:"",categoryName:"",search:"",pathname:"",params:{},currentPage:1,isFetching:!1,isMainDataFetched:!1,fetchedBy:""};var Ce=_e;function ke(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ae=Object(L.b)((function(e,t){var n,r,a,o=e.products,c=o.list,i=o.isFetching,u=o.fetchedBy,l=t.match.params,p=t.location,m=k.a.parse(p.search),d=l.category,v=l.search,h=m.sort,b=he[d]||"",E=ke(c),O="main"===u,P=+m.page||1,w=9*P-1,j=w-9+1;d&&O&&(n=E,r="category",a=b.toLowerCase(),E=n.filter((function(e){return e[r]===a}))),v&&O&&(E=function(e,t,n){return Object(s.compose)(function(e,t){return function(n){return n.reduce((function(n,r){return n.length>0?n:function(e,t,n){return e.filter((function(e){return e[t].toLowerCase().includes(n.toLowerCase())}))}(e,r,t)}),[])}}(e,n),(r=" ",function(e){return e.split(r)}))(t);var r}(E,"name category",v));var N=function(e,t){return Object(s.compose)((function(t){return f(e).sort(t)}),g,y)(t)}(E,h);return{products:function(e,t,n){return e.filter((function(e,r){return r>=t&&r<=n}))}(N,j,w),sortedProducts:N,category:d,categoryName:b,search:v,pathname:p.pathname,currentPage:P,isFetching:i,isMainDataFetched:O,params:l,fetchedBy:u}}),(function(e){return{fetchData:function(){e((function(e){return e(z("/api/products","main"))}))},fetchByParam:function(t,n){e(function(e,t){return function(n){return n(z("/api/products/".concat(e,"/").concat(t),"param"))}}(t,n))}}}))(Ce),Te=Object(x.g)(Ae),xe=(n(60),function(){return a.a.createElement("main",{className:"catalog"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"main-inner"},a.a.createElement(N,{categoriesList:ve}),a.a.createElement("div",{className:"products"},a.a.createElement(D,{sortList:ye}),a.a.createElement(Te,null)))))});n(62);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Re={width:"100%"},Ie=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,Be(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.fetchProduct,r=e.id;"unknown"===t&&n(r)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.category,r=e.img,o=e.price,c=e.description,i=e.id;return a.a.createElement("main",{className:"product-info"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"product-info-inner"},a.a.createElement("div",{className:"img-section"},a.a.createElement("img",{src:r,alt:"product img"})),a.a.createElement("div",{className:"about-section"},a.a.createElement("h1",{className:"about-name"},t),a.a.createElement(X,{className:"about-category",category:n}),a.a.createElement("p",{className:"about-description"},c)),a.a.createElement("div",{className:"buy-section"},a.a.createElement("h2",{className:"buy-price"},o.toLocaleString()," р."),a.a.createElement(W,{id:i,style:Re,className:"product-button"})))))}}])&&De(n.prototype,r),o&&De(n,o),t}(a.a.Component);Ie.propTypes={name:i.a.string,category:i.a.string,description:i.a.string,img:i.a.string,price:i.a.number},Ie.defaultProps={name:"unknown",category:"unknown",description:"",img:"",price:0};var Ue=Ie;function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=Object(L.b)((function(e,t){var n=e.products.list,r=t.match.params.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(n,!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m(n,r),{id:r})}),(function(e){return{fetchProduct:function(t){var n;e((n=t,function(e){return e(z("/api/products/".concat(n),"id"))}))},addProductToCart:function(t){e(q(t))}}}))(Ue),Ye=(n(64),function(e){var t=e.currentAmount,n=e.countUp,r=e.countDown;return a.a.createElement("div",{className:"counter"},a.a.createElement("button",{onClick:n},"+"),a.a.createElement("span",{className:"counter-display"},t),a.a.createElement("button",{disabled:!(t>1),onClick:r},"-"))});Ye.propTypes={currentAmount:i.a.number,countUp:i.a.func,countDown:i.a.func},Ye.defaultProps={currentAmount:0,countUp:function(){},countDown:function(){}};var Ge=Ye,Ve=(n(66),function(e){var t=e._id,n=e.img,r=e.name,o=e.price,c=e.amount,i=e.changeAmount,u=e.removeProduct;return a.a.createElement("li",{className:"cart-product"},a.a.createElement("div",{className:"cart-product-img-wrapper"},a.a.createElement("img",{className:"cart-product-img",src:n})),a.a.createElement("h2",{className:"cart-product-title"},r),a.a.createElement("h3",{className:"cart-product-price"},o," р."),a.a.createElement(Ge,{countUp:function(){return i(t,"+")},countDown:function(){return i(t,"-")},currentAmount:c}),a.a.createElement("button",{className:"cart-product-remove",onClick:function(){return u(t)}},"×"))});Ve.propTypes={_id:i.a.string,img:i.a.string,name:i.a.string,price:i.a.string,amount:i.a.number,changeAmount:i.a.func,removeProduct:i.a.func},Ve.defaultProps={_id:"",img:"",name:"Unknown",price:"0",amount:0,changeAmount:function(){},removeProduct:function(){}};var Je=Ve;n(68);function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qe=function(e){var t=e.products,n=e.removeProduct,r=e.changeAmount,o=e.finalPrice;return a.a.createElement("div",{className:"cart-table"},a.a.createElement("div",{className:"table-header"},a.a.createElement("span",null),a.a.createElement("span",null,"Наименование"),a.a.createElement("span",null,"Цена"),a.a.createElement("span",null,"Кол-во"),a.a.createElement("span",null,"Удалить")),a.a.createElement("ul",{className:"cart-products-list"},t.map((function(e){return a.a.createElement(Je,We({key:e._id},e,{price:e.price.toLocaleString(),removeProduct:n,changeAmount:r}))}))),a.a.createElement("div",{className:"cart-totalPrice"},a.a.createElement("h3",null,"Итоговая цена: ",o," р.")))};Qe.propTypes={products:i.a.array,finalPrice:i.a.string,removeProduct:i.a.func,changeAmount:i.a.func},Qe.defaultProps={products:[],finalPrice:"0",removeProduct:function(){},changeAmount:function(){}};var Ke=Qe,Xe=(n(70),function(e){var t=e.productsList,n=e.removeProduct,r=e.changeAmount,o=e.finalPrice;return a.a.createElement("main",{className:"cart"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"cart-inner"},t.length?a.a.createElement(Ke,{removeProduct:n,changeAmount:r,products:t,finalPrice:o.toLocaleString()}):a.a.createElement("h1",null,"В корзине пусто"))))});Xe.propTypes={productsList:i.a.array,finalPrice:i.a.number,removeProduct:i.a.func,changeAmount:i.a.func},Xe.defaultProps={productsList:[],finalPrice:0,removeProduct:function(){},changeAmount:function(){}};var Ze=Xe,$e=Object(L.b)((function(e){var t=e.products.cart;return{productsList:t,finalPrice:t.reduce((function(e,t){return e+t.price*t.amount}),0)}}),(function(e){return{removeProduct:function(t){e(Y(t))},changeAmount:function(t,n){e(function(e,t){return{type:U,id:e,operator:t}}(t,n))}}}))(Ze),et=(n(72),function(e){var t,n=e.history,r=void 0===n?{}:n;return a.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault();var n=t.value;r.push("/search/".concat(n)),t.value=""}},a.a.createElement("input",{type:"text",placeholder:"Поиск товара",name:"query",ref:function(e){return t=e},required:!0}),a.a.createElement("button",{className:"search-button"},a.a.createElement("svg",{className:"search-icon-wrapper",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a.a.createElement("path",{className:"search-icon",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}))))});et.propTypes={history:i.a.object};var tt=Object(x.g)(et),nt=(n(74),function(e){var t=e.amount,n=void 0===t?0:t,r=e.text,o=void 0===r?"Корзина":r;return a.a.createElement(u.b,{to:"/cart",className:"cart-link"},a.a.createElement("svg",{role:"img",className:"cart-icon-wrapper",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},a.a.createElement("path",{className:"cart-icon",d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"})),a.a.createElement("span",{className:"cart-title"},o),a.a.createElement("span",{className:"cart-elementsCounter"},n))});nt.propTypes={amount:i.a.number,text:i.a.string};var rt=nt,at=(n(76),function(e){var t=e.handleClick,n=void 0===t?function(e){return e}:t;return a.a.createElement("button",{onClick:n,className:"menu-toggler"},a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"toggler-icon-wrapper",viewBox:"0 0 448 512"},a.a.createElement("path",{className:"toggler-icon",d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})))});at.propTypes={handleClick:i.a.func};var ot=at,ct=(n(78),function(e){var t=e.logo,n=void 0===t?"Logo":t,r=e.elementsInCartAmout,o=void 0===r?0:r,c=e.sideMenuHandling;return a.a.createElement("header",{className:"header"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"header-inner"},a.a.createElement(ot,{handleClick:c}),a.a.createElement(u.b,{to:"/",className:"logo"},n),a.a.createElement(tt,null),a.a.createElement(rt,{amount:o,text:"Корзина"}))))});ct.propTypes={logo:i.a.string,elementsInCartAmout:i.a.number,sideMenuHandling:function(){}};var it=ct,ut=Object(L.b)((function(e){return{elementsInCartAmout:e.products.cart.reduce((function(e,t){return e+t.amount}),0),logo:"MusicShop"}}),(function(e){return{sideMenuHandling:function(){e(G())}}}))(it),st=(n(80),function(e){var t=e.children,n=e.isSideMenuOpen,r=void 0!==n&&n,o=e.sideMenuClickHandler,c=void 0===o?function(e){return e}:o;return r&&a.a.createElement("div",{onClick:c,className:"side-menu"},a.a.createElement("button",{type:"button",className:"side-menu-close"},"×"),t)});st.propTypes={children:i.a.node,sideMenuClickHandler:i.a.func,isSideMenuOpen:i.a.bool};var lt=st,pt=Object(L.b)((function(e,t){return{isSideMenuOpen:e.isSideMenuOpen,children:t.children}}),(function(e){return{sideMenuClickHandler:function(){e(G())}}}))(lt),ft=(n(82),function(e){var t=e.logo,n=void 0===t?"":t;return a.a.createElement("footer",{className:"footer"},a.a.createElement("div",{className:"container"},a.a.createElement(u.b,{to:"/",className:"logo"},n)))});ft.propTypes={logo:i.a.string};var mt=ft,dt=function(e){var t=e.children;return a.a.createElement("div",{className:"wrapper"},a.a.createElement(pt,null,a.a.createElement(w,{categories:ve})),a.a.createElement(ut,null),t,a.a.createElement(mt,{logo:"MusicShop"}))};dt.propTypes={children:i.a.node};var gt=dt,yt=function(){return a.a.createElement("main",{className:"error404 container"},a.a.createElement("h1",null,"404 Page not found"))},vt=(n(84),function(){return a.a.createElement(gt,null,a.a.createElement(x.c,null,a.a.createElement(x.a,{exact:!0,path:"/",component:xe}),a.a.createElement(x.a,{path:["/sort/:sortValue","/category/:category","/search/:search"],component:xe}),a.a.createElement(x.a,{path:"/product/:id",component:qe}),a.a.createElement(x.a,{path:"/cart",component:$e}),a.a.createElement(x.a,{component:yt})))}),ht=function(){var e=Object(x.f)(),t=e.pathname,n=e.search;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[t,n]),null},bt=n(27);function Et(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(n,!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case R:return Pt({},e,{amount:1});case U:var n={"+":function(e){return e+1},"-":function(e){return e-1}};return e._id!==t.id?e:Pt({},e,{amount:n[t.operator](e.amount)});default:return e}},Nt=n(28),St=Object(s.createStore)(Object(s.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],cart:Ee,isFetching:!1,fetchedBy:""},t=arguments.length>1?arguments[1]:void 0,n=e.cart,r=e.list;switch(t.type){case B:return Pt({},e,{isFetching:!0});case H:return Pt({},e,{list:Array.isArray(t.products)?t.products:[t.products],isFetching:!1,fetchedBy:t.fetchedBy});case R:var a=r.filter((function(e){return e._id===t.id}))[0];return Pt({},e,{cart:[].concat(Et(n),[jt(a,t)])});case I:return Pt({},e,{cart:n.filter((function(e){return e._id!==t.id}))});case U:return Pt({},e,{cart:n.map((function(e){return jt(e,t)}))});default:return e}},isSideMenuOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return!e;default:return e}}}),Object(Nt.composeWithDevTools)(Object(s.applyMiddleware)(bt.a)));St.subscribe((function(){return localStorage["musicShop-cart"]=JSON.stringify(St.getState().products.cart)}));var _t=St;Object(o.render)(a.a.createElement(L.a,{store:_t},a.a.createElement(u.a,null,a.a.createElement(ht,null),a.a.createElement(vt,null))),document.getElementById("react-container"))}]));