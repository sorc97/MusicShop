!function(e){function t(t){for(var r,c,i=t[0],u=t[1],s=t[2],p=0,f=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={0:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;o.push([92,1]),n()}(Array(42).concat([function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},,,,function(e,t,n){var r=n(48);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(50);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(52);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(54);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(56);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},,,,function(e,t,n){var r=n(61);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(63);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(65);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(67);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(69);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(71);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(73);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(75);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(77);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(79);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(81);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(83);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(85);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(87);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(89);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){var r=n(91);"string"==typeof r&&(r=[[e.i,r,""]]);var a={insert:"head",singleton:!1};n(4)(r,a);r.locals&&(e.exports=r.locals)},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(18),c=n(1),i=n.n(c),u=n(2),s=n(7),l=n(27),p=n.n(l);function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m=Object(s.compose)((function(e){return e[0]}),(function(e,t){return e.filter((function(e){return e._id===t}))})),d={name:"BY_NAME",highPrice:"BY_HIGH_PRICE",lowPrice:"BY_LOW_PRICE"},y=function(e){switch(e){case"BY_NAME":return t="name",function(e,n){return e[t].toLowerCase()>n[t].toLowerCase()?1:-1};case"BY_HIGH_PRICE":return function(e){return function(t,n){return n[e]-t[e]}}("price");case"BY_LOW_PRICE":return function(e){return function(t,n){return t[e]-n[e]}}("price");default:return}var t},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return t[e]},v=function(e){return new URLSearchParams(e)},h=function(e){return"?".concat(e.toString())},b=function(e,t,n){return Object(s.compose)(h,function(e,t){return function(n){return n.get(e)?n.set(e,t):n.append(e,t),n}}(e,t),v)(n)},E=function(e,t){return Object(s.compose)(h,function(e){return function(t){return t.delete(e),t}}(e),v)(t)},O=function(e){return p()().transform(e,"-").toLowerCase()},P=function(e){var t=e.categories,n=void 0===t?[]:t;return a.a.createElement("ul",{className:"categories-list"},n.map((function(e,t){return a.a.createElement("li",{key:t,className:"categories-item"},a.a.createElement(u.c,{className:"categories-link",to:"/category/".concat(O(e))},e))})))};P.propTypes={categories:i.a.array.isRequired};var j=P,w=(n(42),function(e){var t=e.categoriesList,n=void 0===t?[]:t;return a.a.createElement("aside",{className:"categories"},a.a.createElement(j,{categories:n}))});w.propTypes={categoriesItems:i.a.array};var N=w,S=n(15),_=n.n(S),k=n(20),A=n.n(k),T=(n(47),function(e){var t=e.query,n=void 0===t?"":t,r=e.item,o=void 0===r?{}:r,c=Object.keys(o)[0],i=Object.values(o)[0],s=A.a.parse(n).sort,l=_()("sort-item-link",i===s&&"active");return a.a.createElement("li",{className:"sort-item"},a.a.createElement(u.b,{className:l,to:b("sort",i,n)},c))});T.propTypes={query:i.a.string,item:i.a.object};var C=T,x=n(14),D=(n(49),function(e){var t=e.sortList,n=void 0===t?[]:t,r=e.location,o=(void 0===r?{}:r).search;return a.a.createElement("div",{className:"sort"},a.a.createElement("ul",{className:"sort-list"},n.map((function(e,t){return a.a.createElement(C,{key:t,item:e,query:o})}))),o.includes("sort")&&a.a.createElement("span",null,a.a.createElement(u.b,{className:"sort-remove",to:E("sort",o)},"×")))});D.propTypes={sortList:i.a.array,location:i.a.object};var M=Object(x.g)(D),L=n(5),B="REQUEST_PRODUCTS",R="RECEIVE_PRODUCTS",I="ADD_TO_CART",U="REMOVE_FROM_CART",F="CHANGE_AMOUNT",H="TOGGLE_SIDE_MENU",q=function(e,t){return function(n){n({type:B}),fetch(e).then((function(e){return e.json()}),(function(e){return console.error("An error occurred ",e)})).then((function(e){return n(function(e,t){return{type:R,products:e,fetchedBy:t}}(e,t))}))}},Y=function(e){return{type:I,id:e}},G=function(e){return{type:U,id:e}},J=function(){return{type:H}},W=function(e){var t=e.condition,n=e.style,r=e.positiveText,o=e.negativeText,c=e.className,i=e.onPositiveClick,u=e.onNegativeClick,s=_()(c,t&&"remove");return t?a.a.createElement("button",{className:s,style:n,onClick:u},o):a.a.createElement("button",{className:s,style:n,onClick:i},r)};W.propTypes={condition:i.a.bool,style:i.a.object,positiveText:i.a.string,negativeText:i.a.string,className:i.a.string,onPositiveClick:i.a.func,onNegativeClick:i.a.func},W.defaultProps={condition:!1,style:{},positiveText:"Add",negativeText:"Remove",className:"",onPositiveClick:function(){},onNegativeClick:function(){}};var V=W,Q=(n(51),Object(L.b)((function(e,t){var n=e.products.cart,r=t.id,a=t.style,o=t.className;return{condition:!!m(n,r),positiveText:"Добавить в корзину",negativeText:"Убрать из корзины",style:a,className:o}}),(function(e,t){var n=t.id;return{onPositiveClick:function(){e(Y(n))},onNegativeClick:function(){e(G(n))}}}))(V)),z={margin:0,fontWeight:"normal"},K=function(e){var t,n=e.className,r=void 0===n?"":n,o=e.category,c=void 0===o?"":o;return a.a.createElement("h3",{style:z},a.a.createElement(u.b,{className:r,to:"/category/".concat(O(c))},(t=c).charAt(0).toUpperCase()+t.slice(1)))};K.propTypes={className:i.a.string,category:i.a.string};var X=K;n(53);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var re={position:"absolute",bottom:"0",left:"0",width:"100%"},ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ee(this,te(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){if(e.name===this.props.name)return!1}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.category,r=e.img,o=e.price,c=e._id;return a.a.createElement("li",{className:"product"},a.a.createElement(u.b,{className:"img-link",to:"/product/".concat(c)},a.a.createElement("img",{src:r,alt:"product img"})),a.a.createElement("div",{className:"product-caption"},a.a.createElement(X,{className:"product-category",category:n}),a.a.createElement("h2",{className:"product-name"},a.a.createElement(u.b,{to:"/product/".concat(c)},t))),a.a.createElement("h4",{className:"product-price"},o," р."),a.a.createElement(Q,{style:re,id:c,className:"product-button"}))}}])&&$(n.prototype,r),o&&$(n,o),t}(r.Component);ae.propTypes={name:i.a.string,category:i.a.string,img:i.a.string,price:i.a.string,_id:i.a.string},ae.defaultProps={name:"Unknown",category:"Unknown",img:"",price:"0",_id:"0"};var oe=ae;n(55);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=function(e){var t=e.products,n=void 0===t?[]:t;return n.length>0&&a.a.createElement("div",{className:"products-list-wrapper"},a.a.createElement("ul",{className:"products-list"},n.map((function(e){return a.a.createElement(oe,ce({key:e._id},e,{price:e.price.toLocaleString()}))}))))};ie.propTypes={products:i.a.array};var ue=ie,se=n(12),le=n(13),pe=(n(60),function(e){var t=e.category,n=void 0===t?"":t,r=e.categoryName,o=void 0===r?"":r,c=e.search,i=void 0===c?"":c,s="Все товары";return n?s=o||"Категория не найдена":i&&(s="Поиск"),a.a.createElement("div",{className:"products-caption"},a.a.createElement("h1",{className:"products-mainCategory"},s),(n||i)&&a.a.createElement("span",null,a.a.createElement(u.b,{to:"/",className:"products-goBack"},a.a.createElement(se.a,{icon:le.b}))))});pe.propTypes={category:i.a.string,search:i.a.string,categoryName:i.a.string};var fe=pe;n(62);function me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var de=function(e){var t=e.allElements,n=e.elemPerPage,r=e.location,o=e.currentPage,c=Math.ceil(t.length/n),i=r.search,s=me(Array(c)).map((function(e,t){return t+1}));return o<=c&&a.a.createElement("ul",{className:"pagination-list"},s.map((function(e){var t=_()({"pagination-link":!0,active:o===e});return a.a.createElement("li",{key:e},a.a.createElement(u.b,{to:1===e?E("page",i):b("page",e,i),className:t},e))})))};de.propTypes={allElements:i.a.array,elemPerPage:i.a.number,location:i.a.object,currentPage:i.a.number},de.defaultProps={allElements:[],elemPerPage:10,location:{},currentPage:1};var ye=Object(x.g)(de);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=[{"По возрастанию цены":"lowPrice"},{"По убыванию цены":"highPrice"},{"По имени":"name"}],be=["Электрогитары","Акустические гитары","Бас гитары","Клавишные","Ударные","Микрофоны","Звуковое оборудование","Dj-оборудование"],Ee={};be.forEach((function(e){Ee=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ee,ve({},O(e),e))}));var Oe,Pe=localStorage["musicShop-cart"]?JSON.parse(localStorage["musicShop-cart"]):[];n(64);function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Se(this,_e(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isMainDataFetched,n=e.params,r=e.fetchedBy,a=e.categoryName,o=e.fetchData,c=e.fetchByParam,i=Object.keys(n)[0];i&&"param"===r||t||(!i||t?o():c(i,"category"===i?a:n[i]))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.pathname,r=t.isMainDataFetched;e.pathname===n||r||this.fetchAllProducts()}},{key:"fetchAllProducts",value:function(){(0,this.props.fetchData)()}},{key:"render",value:function(){var e=this.props,t=e.products,n=e.category,r=e.categoryName,o=e.search,c=e.isFetching,i=e.sortedProducts,u=e.currentPage;return a.a.createElement("div",{className:"products-wrapper"},a.a.createElement(fe,{category:n,categoryName:r,search:o}),c&&0===t.length&&a.a.createElement("h2",null,"Loading..."),!c&&0===t.length&&a.a.createElement("h2",{className:"empty"},"Нет товаров"),a.a.createElement(ue,{products:t}),a.a.createElement(ye,{allElements:i,currentPage:u,elemPerPage:6}))}}])&&Ne(n.prototype,r),o&&Ne(n,o),t}(r.Component);Ae.propTypes=(je(Oe={products:i.a.array,sortedProducts:i.a.array,category:i.a.string,categoryName:i.a.string},"category",i.a.string),je(Oe,"search",i.a.string),je(Oe,"pathname",i.a.string),je(Oe,"params",i.a.object),je(Oe,"currentPage",i.a.number),je(Oe,"isFetching",i.a.bool),je(Oe,"isMainDataFetched",i.a.bool),je(Oe,"fetchedBy",i.a.string),Oe),Ae.defaultProps={products:[],sortedProducts:[],category:"",categoryName:"",search:"",pathname:"",params:{},currentPage:1,isFetching:!1,isMainDataFetched:!1,fetchedBy:""};var Te=Ae;function Ce(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xe=Object(L.b)((function(e,t){var n,r,a,o=e.products,c=o.list,i=o.isFetching,u=o.fetchedBy,l=t.match.params,p=t.location,m=A.a.parse(p.search),d=l.category,v=l.search,h=m.sort,b=Ee[d]||"",E=Ce(c),O="main"===u,P=+m.page||1,j=6*P-1,w=j-6+1;d&&O&&(n=E,r="category",a=b.toLowerCase(),E=n.filter((function(e){return e[r]===a}))),v&&O&&(E=function(e,t,n){return Object(s.compose)(function(e,t){return function(n){return n.reduce((function(n,r){return n.length>0?n:function(e,t,n){return e.filter((function(e){return e[t].toLowerCase().includes(n.toLowerCase())}))}(e,r,t)}),[])}}(e,n),(r=" ",function(e){return e.split(r)}))(t);var r}(E,"name category",v));var N=function(e,t){return Object(s.compose)((function(t){return f(e).sort(t)}),y,g)(t)}(E,h);return{products:function(e,t,n){return e.filter((function(e,r){return r>=t&&r<=n}))}(N,w,j),sortedProducts:N,category:d,categoryName:b,search:v,pathname:p.pathname,currentPage:P,isFetching:i,isMainDataFetched:O,params:l,fetchedBy:u}}),(function(e){return{fetchData:function(){e((function(e){return e(q("/api/products","main"))}))},fetchByParam:function(t,n){e(function(e,t){return function(n){return n(q("/api/products/".concat(e,"/").concat(t),"param"))}}(t,n))}}}))(Te),De=Object(x.g)(xe),Me=(n(66),function(){return a.a.createElement("main",{className:"catalog"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"main-inner"},a.a.createElement(N,{categoriesList:be}),a.a.createElement("div",{className:"products"},a.a.createElement(M,{sortList:he}),a.a.createElement(De,null)))))});n(68);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe={width:"100%"},He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,Ie(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,n=e.fetchProduct,r=e.id;"unknown"===t&&n(r)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.category,r=e.img,o=e.price,c=e.description,i=e.id;return a.a.createElement("main",{className:"product-info"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"product-info-inner"},a.a.createElement("div",{className:"img-section"},a.a.createElement("img",{src:r,alt:"product img"})),a.a.createElement("div",{className:"about-section"},a.a.createElement("h1",{className:"about-name"},t),a.a.createElement(X,{className:"about-category",category:n}),a.a.createElement("p",{className:"about-description"},c)),a.a.createElement("div",{className:"buy-section"},a.a.createElement("h2",{className:"buy-price"},o.toLocaleString()," р."),a.a.createElement(Q,{id:i,style:Fe,className:"product-button"})))))}}])&&Be(n.prototype,r),o&&Be(n,o),t}(a.a.Component);He.propTypes={name:i.a.string,category:i.a.string,description:i.a.string,img:i.a.string,price:i.a.number},He.defaultProps={name:"unknown",category:"unknown",description:"",img:"",price:0};var qe=He;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=Object(L.b)((function(e,t){var n=e.products.list,r=t.match.params.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},m(n,r),{id:r})}),(function(e){return{fetchProduct:function(t){var n;e((n=t,function(e){return e(q("/api/products/".concat(n),"id"))}))},addProductToCart:function(t){e(Y(t))}}}))(qe),We=(n(70),function(e){var t=e.currentAmount,n=e.countUp,r=e.countDown;return a.a.createElement("div",{className:"counter"},a.a.createElement("button",{onClick:n},"+"),a.a.createElement("span",{className:"counter-display"},t),a.a.createElement("button",{disabled:!(t>1),onClick:r},"-"))});We.propTypes={currentAmount:i.a.number,countUp:i.a.func,countDown:i.a.func},We.defaultProps={currentAmount:0,countUp:function(){},countDown:function(){}};var Ve=We,Qe=(n(72),function(e){var t=e._id,n=e.img,r=e.name,o=e.price,c=e.amount,i=e.changeAmount,u=e.removeProduct;return a.a.createElement("li",{className:"cart-product"},a.a.createElement("div",{className:"cart-product-img-wrapper"},a.a.createElement("img",{className:"cart-product-img",src:n})),a.a.createElement("h2",{className:"cart-product-title"},r),a.a.createElement("h3",{className:"cart-product-price"},o," р."),a.a.createElement(Ve,{countUp:function(){return i(t,"+")},countDown:function(){return i(t,"-")},currentAmount:c}),a.a.createElement("button",{className:"cart-product-remove",onClick:function(){return u(t)}},"×"))});Qe.propTypes={_id:i.a.string,img:i.a.string,name:i.a.string,price:i.a.string,amount:i.a.number,changeAmount:i.a.func,removeProduct:i.a.func},Qe.defaultProps={_id:"",img:"",name:"Unknown",price:"0",amount:0,changeAmount:function(){},removeProduct:function(){}};var ze=Qe;n(74);function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Xe=function(e){var t=e.products,n=e.removeProduct,r=e.changeAmount,o=e.finalPrice;return a.a.createElement("div",{className:"cart-table"},a.a.createElement("div",{className:"table-header"},a.a.createElement("span",null),a.a.createElement("span",null,"Наименование"),a.a.createElement("span",null,"Цена"),a.a.createElement("span",null,"Кол-во"),a.a.createElement("span",null,"Удалить")),a.a.createElement("ul",{className:"cart-products-list"},t.map((function(e){return a.a.createElement(ze,Ke({key:e._id},e,{price:e.price.toLocaleString(),removeProduct:n,changeAmount:r}))}))),a.a.createElement("div",{className:"cart-totalPrice"},a.a.createElement("h3",null,"Итоговая цена: ",o," р.")))};Xe.propTypes={products:i.a.array,finalPrice:i.a.string,removeProduct:i.a.func,changeAmount:i.a.func},Xe.defaultProps={products:[],finalPrice:"0",removeProduct:function(){},changeAmount:function(){}};var Ze=Xe,$e=(n(76),function(e){var t=e.productsList,n=e.removeProduct,r=e.changeAmount,o=e.finalPrice;return a.a.createElement("main",{className:"cart"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"cart-inner"},t.length?a.a.createElement(Ze,{removeProduct:n,changeAmount:r,products:t,finalPrice:o.toLocaleString()}):a.a.createElement("h1",null,"В корзине пусто"))))});$e.propTypes={productsList:i.a.array,finalPrice:i.a.number,removeProduct:i.a.func,changeAmount:i.a.func},$e.defaultProps={productsList:[],finalPrice:0,removeProduct:function(){},changeAmount:function(){}};var et=$e,tt=Object(L.b)((function(e){var t=e.products.cart;return{productsList:t,finalPrice:t.reduce((function(e,t){return e+t.price*t.amount}),0)}}),(function(e){return{removeProduct:function(t){e(G(t))},changeAmount:function(t,n){e(function(e,t){return{type:F,id:e,operator:t}}(t,n))}}}))(et),nt=(n(78),function(e){var t,n=e.history,r=void 0===n?{}:n;return a.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault();var n=t.value;r.push("/search/".concat(n)),t.value=""}},a.a.createElement("input",{type:"text",placeholder:"Поиск товара",name:"query",ref:function(e){return t=e},required:!0}),a.a.createElement("button",{className:"search-button"},a.a.createElement(se.a,{icon:le.c})))});nt.propTypes={history:i.a.object};var rt=Object(x.g)(nt),at=(n(80),function(e){var t=e.amount,n=void 0===t?0:t,r=e.text,o=void 0===r?"Корзина":r;return a.a.createElement(u.b,{to:"/cart",className:"cart-link"},a.a.createElement(se.a,{icon:le.d}),a.a.createElement("span",{className:"cart-title"},o),a.a.createElement("span",{className:"cart-elementsCounter"},n))});at.propTypes={amount:i.a.number,text:i.a.string};var ot=at,ct=(n(82),function(e){var t=e.handleClick,n=void 0===t?function(e){return e}:t;return a.a.createElement("button",{onClick:n,className:"menu-toggler"},a.a.createElement(se.a,{icon:le.a}))});ct.propTypes={handleClick:i.a.func};var it=ct,ut=(n(84),function(e){var t=e.logo,n=void 0===t?"Logo":t,r=e.elementsInCartAmout,o=void 0===r?0:r,c=e.sideMenuHandling;return a.a.createElement("header",{className:"header"},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"header-inner"},a.a.createElement(it,{handleClick:c}),a.a.createElement(u.b,{to:"/",className:"logo"},n),a.a.createElement(rt,null),a.a.createElement(ot,{amount:o,text:"Корзина"}))))});ut.propTypes={logo:i.a.string,elementsInCartAmout:i.a.number,sideMenuHandling:function(){}};var st=ut,lt=Object(L.b)((function(e){return{elementsInCartAmout:e.products.cart.reduce((function(e,t){return e+t.amount}),0),logo:"MusicShop"}}),(function(e){return{sideMenuHandling:function(){e(J())}}}))(st),pt=(n(86),function(e){var t=e.children,n=e.isSideMenuOpen,r=void 0!==n&&n,o=e.sideMenuClickHandler,c=void 0===o?function(e){return e}:o;return r&&a.a.createElement("div",{onClick:c,className:"side-menu"},a.a.createElement("span",{className:"side-menu-close"},"×"),t)});pt.propTypes={children:i.a.node,sideMenuClickHandler:i.a.func,isSideMenuOpen:i.a.bool};var ft=pt,mt=Object(L.b)((function(e,t){return{isSideMenuOpen:e.isSideMenuOpen,children:t.children}}),(function(e){return{sideMenuClickHandler:function(){e(J())}}}))(ft),dt=(n(88),function(e){var t=e.logo,n=void 0===t?"":t;return a.a.createElement("footer",{className:"footer"},a.a.createElement("div",{className:"container"},a.a.createElement(u.b,{to:"/",className:"logo"},n)))});dt.propTypes={logo:i.a.string};var yt=dt,gt=function(e){var t=e.children;return a.a.createElement("div",{className:"wrapper"},a.a.createElement(mt,null,a.a.createElement(j,{categories:be})),a.a.createElement(lt,null),t,a.a.createElement(yt,{logo:"MusicShop"}))};gt.propTypes={children:i.a.node};var vt=gt,ht=function(){return a.a.createElement("main",{className:"error404 container"},a.a.createElement("h1",null,"404 Page not found"))},bt=(n(90),function(){return a.a.createElement(vt,null,a.a.createElement(x.c,null,a.a.createElement(x.a,{exact:!0,path:"/",component:Me}),a.a.createElement(x.a,{path:["/sort/:sortValue","/category/:category","/search/:search"],component:Me}),a.a.createElement(x.a,{path:"/product/:id",component:Je}),a.a.createElement(x.a,{path:"/cart",component:tt}),a.a.createElement(x.a,{component:ht})))}),Et=function(){var e=Object(x.f)(),t=e.pathname,n=e.search;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[t,n]),null},Ot=n(30);function Pt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(n,!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:return wt({},e,{amount:1});case F:var n={"+":function(e){return e+1},"-":function(e){return e-1}};return e._id!==t.id?e:wt({},e,{amount:n[t.operator](e.amount)});default:return e}},_t=n(31),kt=Object(s.createStore)(Object(s.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[],cart:Pe,isFetching:!1,fetchedBy:""},t=arguments.length>1?arguments[1]:void 0,n=e.cart,r=e.list;switch(t.type){case B:return wt({},e,{isFetching:!0});case R:return wt({},e,{list:Array.isArray(t.products)?t.products:[t.products],isFetching:!1,fetchedBy:t.fetchedBy});case I:var a=r.filter((function(e){return e._id===t.id}))[0];return wt({},e,{cart:[].concat(Pt(n),[St(a,t)])});case U:return wt({},e,{cart:n.filter((function(e){return e._id!==t.id}))});case F:return wt({},e,{cart:n.map((function(e){return St(e,t)}))});default:return e}},isSideMenuOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return!e;default:return e}}}),Object(_t.composeWithDevTools)(Object(s.applyMiddleware)(Ot.a)));kt.subscribe((function(){return localStorage["musicShop-cart"]=JSON.stringify(kt.getState().products.cart)}));var At=kt;Object(o.render)(a.a.createElement(L.a,{store:At},a.a.createElement(u.a,null,a.a.createElement(Et,null),a.a.createElement(bt,null))),document.getElementById("react-container"))}]));